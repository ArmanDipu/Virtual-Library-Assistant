{"remainingRequest":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\babel-loader\\lib\\index.js!E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\Projects\\vue-library-master\\1-Project\\frontend\\src\\modules\\iam\\permission-checker.js","dependencies":[{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\src\\modules\\iam\\permission-checker.js","mtime":1641838497569},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\babel.config.js","mtime":1641838494433},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641838763341},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1641838769328},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1641838766164}],"contextDependencies":[],"result":["import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport _classCallCheck from \"E:\\\\Projects\\\\vue-library-master\\\\1-Project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"E:\\\\Projects\\\\vue-library-master\\\\1-Project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\n\nvar PermissionChecker = /*#__PURE__*/function () {\n  function PermissionChecker(currentUser) {\n    _classCallCheck(this, PermissionChecker);\n\n    this.currentUser = currentUser;\n    this.userRoles = currentUser ? currentUser.roles : [];\n  }\n\n  _createClass(PermissionChecker, [{\n    key: \"match\",\n    value: function match(permission) {\n      if (!permission) {\n        return true;\n      }\n\n      return this.rolesMatchOneOf(permission.allowedRoles);\n    }\n  }, {\n    key: \"rolesMatchOneOf\",\n    value: function rolesMatchOneOf(arg) {\n      var _this = this;\n\n      if (!this.userRoles) {\n        return false;\n      }\n\n      if (!arg) {\n        return false;\n      }\n\n      if (Array.isArray(arg)) {\n        if (!arg.length) {\n          return false;\n        }\n\n        return arg.some(function (role) {\n          return _this.userRoles.includes(role);\n        });\n      }\n\n      return this.userRoles.includes(arg);\n    }\n  }, {\n    key: \"isEmptyPermissions\",\n    get: function get() {\n      if (!this.isAuthenticated) {\n        return false;\n      }\n\n      return !this.userRoles || !this.userRoles.length;\n    }\n  }, {\n    key: \"isAuthenticated\",\n    get: function get() {\n      return !!this.currentUser && !!this.currentUser.id;\n    }\n  }, {\n    key: \"isEmailVerified\",\n    get: function get() {\n      if (!this.isAuthenticated) {\n        return false;\n      }\n\n      return this.currentUser.emailVerified;\n    }\n  }]);\n\n  return PermissionChecker;\n}();\n\nexport { PermissionChecker as default };",{"version":3,"sources":["E:/Projects/vue-library-master/1-Project/frontend/src/modules/iam/permission-checker.js"],"names":["PermissionChecker","currentUser","userRoles","roles","permission","rolesMatchOneOf","allowedRoles","arg","Array","isArray","length","some","role","includes","isAuthenticated","id","emailVerified"],"mappings":";;;;;IAAqBA,iB;AACnB,6BAAYC,WAAZ,EAAyB;AAAA;;AACvB,SAAKA,WAAL,GAAmBA,WAAnB;AACA,SAAKC,SAAL,GAAiBD,WAAW,GAAGA,WAAW,CAACE,KAAf,GAAuB,EAAnD;AACD;;;;WAED,eAAMC,UAAN,EAAkB;AAChB,UAAI,CAACA,UAAL,EAAiB;AACf,eAAO,IAAP;AACD;;AAED,aAAO,KAAKC,eAAL,CAAqBD,UAAU,CAACE,YAAhC,CAAP;AACD;;;WAED,yBAAgBC,GAAhB,EAAqB;AAAA;;AACnB,UAAI,CAAC,KAAKL,SAAV,EAAqB;AACnB,eAAO,KAAP;AACD;;AAED,UAAI,CAACK,GAAL,EAAU;AACR,eAAO,KAAP;AACD;;AAED,UAAIC,KAAK,CAACC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;AACtB,YAAI,CAACA,GAAG,CAACG,MAAT,EAAiB;AACf,iBAAO,KAAP;AACD;;AAED,eAAOH,GAAG,CAACI,IAAJ,CAAS,UAACC,IAAD;AAAA,iBACd,KAAI,CAACV,SAAL,CAAeW,QAAf,CAAwBD,IAAxB,CADc;AAAA,SAAT,CAAP;AAGD;;AAED,aAAO,KAAKV,SAAL,CAAeW,QAAf,CAAwBN,GAAxB,CAAP;AACD;;;SAED,eAAyB;AACvB,UAAI,CAAC,KAAKO,eAAV,EAA2B;AACzB,eAAO,KAAP;AACD;;AAED,aAAO,CAAC,KAAKZ,SAAN,IAAmB,CAAC,KAAKA,SAAL,CAAeQ,MAA1C;AACD;;;SAED,eAAsB;AACpB,aAAO,CAAC,CAAC,KAAKT,WAAP,IAAsB,CAAC,CAAC,KAAKA,WAAL,CAAiBc,EAAhD;AACD;;;SAED,eAAsB;AACpB,UAAI,CAAC,KAAKD,eAAV,EAA2B;AACzB,eAAO,KAAP;AACD;;AAED,aAAO,KAAKb,WAAL,CAAiBe,aAAxB;AACD;;;;;;SAtDkBhB,iB","sourcesContent":["export default class PermissionChecker {\n  constructor(currentUser) {\n    this.currentUser = currentUser;\n    this.userRoles = currentUser ? currentUser.roles : [];\n  }\n\n  match(permission) {\n    if (!permission) {\n      return true;\n    }\n\n    return this.rolesMatchOneOf(permission.allowedRoles);\n  }\n\n  rolesMatchOneOf(arg) {\n    if (!this.userRoles) {\n      return false;\n    }\n\n    if (!arg) {\n      return false;\n    }\n\n    if (Array.isArray(arg)) {\n      if (!arg.length) {\n        return false;\n      }\n\n      return arg.some((role) =>\n        this.userRoles.includes(role),\n      );\n    }\n\n    return this.userRoles.includes(arg);\n  }\n\n  get isEmptyPermissions() {\n    if (!this.isAuthenticated) {\n      return false;\n    }\n\n    return !this.userRoles || !this.userRoles.length;\n  }\n\n  get isAuthenticated() {\n    return !!this.currentUser && !!this.currentUser.id;\n  }\n\n  get isEmailVerified() {\n    if (!this.isAuthenticated) {\n      return false;\n    }\n\n    return this.currentUser.emailVerified;\n  }\n}\n"]}]}