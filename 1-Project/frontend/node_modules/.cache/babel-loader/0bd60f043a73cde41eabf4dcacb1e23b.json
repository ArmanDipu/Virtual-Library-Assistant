{"remainingRequest":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\babel-loader\\lib\\index.js!E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\Projects\\vue-library-master\\1-Project\\frontend\\src\\modules\\auth\\guards\\not-empty-permissions-guard-mixin.js","dependencies":[{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\src\\modules\\auth\\guards\\not-empty-permissions-guard-mixin.js","mtime":1641838496739},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\babel.config.js","mtime":1641838494433},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641838763341},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1641838769328},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1641838766164}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"E:\\\\Projects\\\\vue-library-master\\\\1-Project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { storeAsync } from '@/app-module';\nexport default {\n  beforeRouteEnter: function () {\n    var _beforeRouteEnter = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(to, from, next) {\n      var store;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(!to.meta || !to.meta.notEmptyPermissions)) {\n                _context.next = 3;\n                break;\n              }\n\n              next();\n              return _context.abrupt(\"return\");\n\n            case 3:\n              store = storeAsync();\n              _context.next = 6;\n              return store.dispatch('auth/doWaitUntilInit');\n\n            case 6:\n              if (store.getters['auth/signedIn'] && store.getters['auth/roles'].length) {\n                next('/');\n              } else {\n                next();\n              }\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function beforeRouteEnter(_x, _x2, _x3) {\n      return _beforeRouteEnter.apply(this, arguments);\n    }\n\n    return beforeRouteEnter;\n  }()\n};",{"version":3,"sources":["E:/Projects/vue-library-master/1-Project/frontend/src/modules/auth/guards/not-empty-permissions-guard-mixin.js"],"names":["storeAsync","beforeRouteEnter","to","from","next","meta","notEmptyPermissions","store","dispatch","getters","length"],"mappings":";;AAAA,SAASA,UAAT,QAA2B,cAA3B;AAEA,eAAe;AACPC,EAAAA,gBADO;AAAA,qGACUC,EADV,EACcC,IADd,EACoBC,IADpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEP,CAACF,EAAE,CAACG,IAAJ,IAAY,CAACH,EAAE,CAACG,IAAH,CAAQC,mBAFd;AAAA;AAAA;AAAA;;AAGTF,cAAAA,IAAI;AAHK;;AAAA;AAOLG,cAAAA,KAPK,GAOGP,UAAU,EAPb;AAAA;AAAA,qBASLO,KAAK,CAACC,QAAN,CAAe,sBAAf,CATK;;AAAA;AAWX,kBACED,KAAK,CAACE,OAAN,CAAc,eAAd,KACAF,KAAK,CAACE,OAAN,CAAc,YAAd,EAA4BC,MAF9B,EAGE;AACAN,gBAAAA,IAAI,CAAC,GAAD,CAAJ;AACD,eALD,MAKO;AACLA,gBAAAA,IAAI;AACL;;AAlBU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,CAAf","sourcesContent":["import { storeAsync } from '@/app-module';\n\nexport default {\n  async beforeRouteEnter(to, from, next) {\n    if (!to.meta || !to.meta.notEmptyPermissions) {\n      next();\n      return;\n    }\n\n    const store = storeAsync();\n\n    await store.dispatch('auth/doWaitUntilInit');\n\n    if (\n      store.getters['auth/signedIn'] &&\n      store.getters['auth/roles'].length\n    ) {\n      next('/');\n    } else {\n      next();\n    }\n  },\n};\n"]}]}