{"remainingRequest":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\babel-loader\\lib\\index.js!E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Projects\\vue-library-master\\1-Project\\frontend\\src\\modules\\book\\components\\book-list-table.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\src\\modules\\book\\components\\book-list-table.vue","mtime":1641838497146},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\babel.config.js","mtime":1641838494433},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641838763341},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1641838769328},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641838763341},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1641838768457}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"E:\\\\Projects\\\\vue-library-master\\\\1-Project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport _defineProperty from \"E:\\\\Projects\\\\vue-library-master\\\\1-Project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { BookModel } from '@/modules/book/book-model';\nimport { mapGetters, mapActions } from 'vuex';\nimport { BookPermissions } from '@/modules/book/book-permissions';\nimport { i18n } from '@/i18n';\nvar _fields = BookModel.fields;\nexport default {\n  name: 'app-book-list-table',\n  mounted: function mounted() {\n    this.doMountTable(this.$refs.table);\n  },\n  computed: _objectSpread(_objectSpread({}, mapGetters({\n    rows: 'book/list/rows',\n    count: 'book/list/count',\n    loading: 'book/list/loading',\n    pagination: 'book/list/pagination',\n    isMobile: 'layout/isMobile',\n    currentUser: 'auth/currentUser',\n    destroyLoading: 'book/destroy/loading',\n    paginationLayout: 'layout/paginationLayout'\n  })), {}, {\n    hasPermissionToEdit: function hasPermissionToEdit() {\n      return new BookPermissions(this.currentUser).edit;\n    },\n    hasPermissionToDestroy: function hasPermissionToDestroy() {\n      return new BookPermissions(this.currentUser).destroy;\n    },\n    fields: function fields() {\n      return _fields;\n    }\n  }),\n  methods: _objectSpread(_objectSpread({}, mapActions({\n    doChangeSort: 'book/list/doChangeSort',\n    doChangePaginationCurrentPage: 'book/list/doChangePaginationCurrentPage',\n    doChangePaginationPageSize: 'book/list/doChangePaginationPageSize',\n    doMountTable: 'book/list/doMountTable',\n    doDestroy: 'book/destroy/doDestroy'\n  })), {}, {\n    presenter: function presenter(row, fieldName) {\n      return BookModel.presenter(row, fieldName);\n    },\n    doDestroyWithConfirm: function () {\n      var _doDestroyWithConfirm = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(id) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return this.$confirm(i18n('common.areYouSure'), i18n('common.confirm'), {\n                  confirmButtonText: i18n('common.yes'),\n                  cancelButtonText: i18n('common.no'),\n                  type: 'warning'\n                });\n\n              case 3:\n                return _context.abrupt(\"return\", this.doDestroy(id));\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context[\"catch\"](0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 6]]);\n      }));\n\n      function doDestroyWithConfirm(_x) {\n        return _doDestroyWithConfirm.apply(this, arguments);\n      }\n\n      return doDestroyWithConfirm;\n    }()\n  })\n};",{"version":3,"sources":["book-list-table.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA,SAAA,SAAA,QAAA,2BAAA;AACA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,SAAA,eAAA,QAAA,iCAAA;AACA,SAAA,IAAA,QAAA,QAAA;AAEA,IAAA,OAAA,GAAA,SAAA,CAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,qBADA;AAGA,EAAA,OAHA,qBAGA;AACA,SAAA,YAAA,CAAA,KAAA,KAAA,CAAA,KAAA;AACA,GALA;AAOA,EAAA,QAAA,kCACA,UAAA,CAAA;AACA,IAAA,IAAA,EAAA,gBADA;AAEA,IAAA,KAAA,EAAA,iBAFA;AAGA,IAAA,OAAA,EAAA,mBAHA;AAIA,IAAA,UAAA,EAAA,sBAJA;AAKA,IAAA,QAAA,EAAA,iBALA;AAMA,IAAA,WAAA,EAAA,kBANA;AAOA,IAAA,cAAA,EAAA,sBAPA;AAQA,IAAA,gBAAA,EAAA;AARA,GAAA,CADA;AAYA,IAAA,mBAZA,iCAYA;AACA,aAAA,IAAA,eAAA,CAAA,KAAA,WAAA,EAAA,IAAA;AACA,KAdA;AAgBA,IAAA,sBAhBA,oCAgBA;AACA,aAAA,IAAA,eAAA,CAAA,KAAA,WAAA,EAAA,OAAA;AACA,KAlBA;AAoBA,IAAA,MApBA,oBAoBA;AACA,aAAA,OAAA;AACA;AAtBA,IAPA;AAgCA,EAAA,OAAA,kCACA,UAAA,CAAA;AACA,IAAA,YAAA,EAAA,wBADA;AAEA,IAAA,6BAAA,EACA,yCAHA;AAIA,IAAA,0BAAA,EACA,sCALA;AAMA,IAAA,YAAA,EAAA,wBANA;AAOA,IAAA,SAAA,EAAA;AAPA,GAAA,CADA;AAWA,IAAA,SAXA,qBAWA,GAXA,EAWA,SAXA,EAWA;AACA,aAAA,SAAA,CAAA,SAAA,CAAA,GAAA,EAAA,SAAA,CAAA;AACA,KAbA;AAeA,IAAA,oBAfA;AAAA,2GAeA,EAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAiBA,KAAA,QAAA,CACA,IAAA,CAAA,mBAAA,CADA,EAEA,IAAA,CAAA,gBAAA,CAFA,EAGA;AACA,kBAAA,iBAAA,EAAA,IAAA,CAAA,YAAA,CADA;AAEA,kBAAA,gBAAA,EAAA,IAAA,CAAA,WAAA,CAFA;AAGA,kBAAA,IAAA,EAAA;AAHA,iBAHA,CAjBA;;AAAA;AAAA,iDA2BA,KAAA,SAAA,CAAA,EAAA,CA3BA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAhCA,CAAA","sourcesContent":["<template>\n  <div>\n    <el-table\n      :border=\"true\"\n      :data=\"rows\"\n      @sort-change=\"doChangeSort\"\n      ref=\"table\"\n      row-key=\"id\"\n      v-loading=\"loading\"\n    >\n      <el-table-column type=\"selection\" width=\"55\"></el-table-column>\n\n      <el-table-column :label=\"fields.id.label\" :prop=\"fields.id.name\" sortable=\"custom\">\n        <template slot-scope=\"scope\">{{ presenter(scope.row, 'id') }}</template>\n      </el-table-column>\n\n      <el-table-column\n        :label=\"fields.isbn.label\"\n        :prop=\"fields.isbn.name\"\n        sortable=\"custom\"\n      >\n        <template slot-scope=\"scope\">{{ presenter(scope.row, 'isbn') }}</template>\n      </el-table-column>\n\n      <el-table-column\n        :label=\"fields.title.label\"\n        :prop=\"fields.title.name\"\n        sortable=\"custom\"\n      >\n        <template slot-scope=\"scope\">{{ presenter(scope.row, 'title') }}</template>\n      </el-table-column>\n\n      <el-table-column\n        :label=\"fields.author.label\"\n        :prop=\"fields.author.name\"\n        sortable=\"custom\"\n      >\n        <template slot-scope=\"scope\">{{ presenter(scope.row, 'author') }}</template>\n      </el-table-column>\n\n      <el-table-column\n        :label=\"fields.images.label\"\n        :prop=\"fields.images.name\"\n        align=\"center\"\n      >\n        <template slot-scope=\"scope\">\n          <app-list-item-image :value=\"presenter(scope.row, 'images')\"></app-list-item-image>\n        </template>\n      </el-table-column>\n\n      <el-table-column\n        :label=\"fields.status.label\"\n        :prop=\"fields.status.name\"\n        sortable=\"custom\"\n      >\n        <template slot-scope=\"scope\">{{ presenter(scope.row, 'status') }}</template>\n      </el-table-column>\n\n      <el-table-column\n        :label=\"fields.createdAt.label\"\n        :prop=\"fields.createdAt.name\"\n        sortable=\"custom\"\n      >\n        <template slot-scope=\"scope\">{{ presenter(scope.row, 'createdAt') }}</template>\n      </el-table-column>\n\n      <el-table-column :fixed=\"isMobile? undefined : 'right'\" align=\"center\" width=\"180\">\n        <template slot-scope=\"scope\">\n          <div class=\"table-actions\">\n            <router-link :to=\"`/book/${scope.row.id}`\">\n              <el-button type=\"text\">\n                <app-i18n code=\"common.view\"></app-i18n>\n              </el-button>\n            </router-link>\n\n            <router-link :to=\"`/book/${scope.row.id}/edit`\" v-if=\"hasPermissionToEdit\">\n              <el-button type=\"text\">\n                <app-i18n code=\"common.edit\"></app-i18n>\n              </el-button>\n            </router-link>\n\n            <el-button\n              :disabled=\"destroyLoading\"\n              @click=\"doDestroyWithConfirm(scope.row.id)\"\n              type=\"text\"\n              v-if=\"hasPermissionToDestroy\"\n            >\n              <app-i18n code=\"common.destroy\"></app-i18n>\n            </el-button>\n          </div>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <div class=\"el-pagination-wrapper\">\n      <el-pagination\n        :current-page=\"pagination.currentPage || 1\"\n        :disabled=\"loading\"\n        :layout=\"paginationLayout\"\n        :total=\"count\"\n        @current-change=\"doChangePaginationCurrentPage\"\n        @size-change=\"doChangePaginationPageSize\"\n      ></el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { BookModel } from '@/modules/book/book-model';\nimport { mapGetters, mapActions } from 'vuex';\nimport { BookPermissions } from '@/modules/book/book-permissions';\nimport { i18n } from '@/i18n';\n\nconst { fields } = BookModel;\n\nexport default {\n  name: 'app-book-list-table',\n\n  mounted() {\n    this.doMountTable(this.$refs.table);\n  },\n\n  computed: {\n    ...mapGetters({\n      rows: 'book/list/rows',\n      count: 'book/list/count',\n      loading: 'book/list/loading',\n      pagination: 'book/list/pagination',\n      isMobile: 'layout/isMobile',\n      currentUser: 'auth/currentUser',\n      destroyLoading: 'book/destroy/loading',\n      paginationLayout: 'layout/paginationLayout',\n    }),\n\n    hasPermissionToEdit() {\n      return new BookPermissions(this.currentUser).edit;\n    },\n\n    hasPermissionToDestroy() {\n      return new BookPermissions(this.currentUser).destroy;\n    },\n\n    fields() {\n      return fields;\n    },\n  },\n\n  methods: {\n    ...mapActions({\n      doChangeSort: 'book/list/doChangeSort',\n      doChangePaginationCurrentPage:\n        'book/list/doChangePaginationCurrentPage',\n      doChangePaginationPageSize:\n        'book/list/doChangePaginationPageSize',\n      doMountTable: 'book/list/doMountTable',\n      doDestroy: 'book/destroy/doDestroy',\n    }),\n\n    presenter(row, fieldName) {\n      return BookModel.presenter(row, fieldName);\n    },\n\n    async doDestroyWithConfirm(id) {\n      try {\n        await this.$confirm(\n          i18n('common.areYouSure'),\n          i18n('common.confirm'),\n          {\n            confirmButtonText: i18n('common.yes'),\n            cancelButtonText: i18n('common.no'),\n            type: 'warning',\n          },\n        );\n\n        return this.doDestroy(id);\n      } catch (error) {\n        // no\n      }\n    },\n  },\n};\n</script>\n\n<style>\n</style>\n"],"sourceRoot":"src/modules/book/components"}]}