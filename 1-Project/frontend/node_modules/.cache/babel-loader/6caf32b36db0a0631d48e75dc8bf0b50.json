{"remainingRequest":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\babel-loader\\lib\\index.js!E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\Projects\\vue-library-master\\1-Project\\frontend\\src\\modules\\auth\\user-model.js","dependencies":[{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\src\\modules\\auth\\user-model.js","mtime":1641838496503},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\babel.config.js","mtime":1641838494433},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641838763341},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1641838769328},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1641838766164}],"contextDependencies":[],"result":["import \"core-js/modules/es6.reflect.construct\";\nimport _classCallCheck from \"E:\\\\Projects\\\\vue-library-master\\\\1-Project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"E:\\\\Projects\\\\vue-library-master\\\\1-Project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport _inherits from \"E:\\\\Projects\\\\vue-library-master\\\\1-Project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\inherits.js\";\nimport _possibleConstructorReturn from \"E:\\\\Projects\\\\vue-library-master\\\\1-Project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"E:\\\\Projects\\\\vue-library-master\\\\1-Project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\getPrototypeOf.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport StringArrayField from '@/shared/fields/string-array-field';\nimport * as yup from 'yup';\nimport Roles from '@/security/roles';\nimport { i18n } from '@/i18n';\nimport IdField from '@/shared/fields/id-field';\nimport StringField from '@/shared/fields/string-field';\nimport BooleanField from '@/shared/fields/boolean-field';\nimport ImagesField from '@/shared/fields/images-field';\nimport DateTimeField from '@/shared/fields/date-time-field';\nimport DateTimeRangeField from '@/shared/fields/date-time-range-field';\nimport GenericField from '@/shared/fields/generic-field';\nimport EnumeratorField from '@/shared/fields/enumerator-field';\nimport { GenericModel } from '@/shared/model/generic-model';\n\nvar RolesField = /*#__PURE__*/function (_StringArrayField) {\n  _inherits(RolesField, _StringArrayField);\n\n  var _super = _createSuper(RolesField);\n\n  function RolesField(name, label, config) {\n    var _this;\n\n    _classCallCheck(this, RolesField);\n\n    _this = _super.call(this, name, label, config);\n    _this.options = Roles.selectOptions;\n    return _this;\n  }\n\n  _createClass(RolesField, [{\n    key: \"forExport\",\n    value: function forExport() {\n      return yup.mixed().label(this.label).transform(function (values) {\n        return values ? values.map(function (value) {\n          return Roles.labelOf(value);\n        }).join(' ') : null;\n      });\n    }\n  }]);\n\n  return RolesField;\n}(StringArrayField);\n\nvar EmailsField = /*#__PURE__*/function (_StringArrayField2) {\n  _inherits(EmailsField, _StringArrayField2);\n\n  var _super2 = _createSuper(EmailsField);\n\n  function EmailsField() {\n    _classCallCheck(this, EmailsField);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(EmailsField, [{\n    key: \"forFormRules\",\n    value: function forFormRules() {\n      var yupValidator = yup.array().label(this.label).of(yup.string().email(i18n('user.validations.email')).label(i18n('user.fields.email')).max(255).required());\n\n      if (this.required) {\n        yupValidator = yupValidator.required();\n      }\n\n      var validator = function validator(rule, value, callback) {\n        try {\n          yupValidator.validateSync(value);\n          callback();\n        } catch (error) {\n          callback(error);\n        }\n      };\n\n      return [{\n        validator: validator\n      }];\n    }\n  }]);\n\n  return EmailsField;\n}(StringArrayField);\n\nfunction label(name) {\n  return i18n(\"user.fields.\".concat(name));\n}\n\nvar fields = {\n  id: new IdField('id', label('id')),\n  firstName: new StringField('firstName', label('firstName'), {\n    max: 80\n  }),\n  authenticationUid: new StringField('authenticationUid', label('authenticationUid')),\n  lastName: new StringField('lastName', label('lastName'), {\n    max: 175\n  }),\n  password: new StringField('password', label('password'), {\n    required: true\n  }),\n  fullName: new StringField('fullName', label('fullName')),\n  email: new StringField('email', label('email'), {\n    required: true,\n    max: 255\n  }),\n  role: new EnumeratorField('role', label('role'), Roles.selectOptions),\n  rememberMe: new BooleanField('rememberMe', label('rememberMe')),\n  disabledAsStatus: new BooleanField('disabled', label('status'), {\n    noLabel: i18n('user.enabled'),\n    yesLabel: i18n('user.disabled')\n  }),\n  disabled: new BooleanField('disabled', label('disabled'), {\n    noLabel: i18n('user.enabled'),\n    yesLabel: i18n('user.disabled')\n  }),\n  phoneNumber: new StringField('phoneNumber', label('phoneNumber'), {\n    matches: /^[0-9]/,\n    max: 24\n  }),\n  avatarsIam: new ImagesField('avatars', label('avatars'), 'user/avatars/iam', {\n    max: 1\n  }),\n  avatarsProfile: new ImagesField('avatars', label('avatars'), function (id) {\n    return \"user/avatars/profile/\".concat(id);\n  }, {\n    max: 1\n  }),\n  emails: new EmailsField('emails', label('emails'), {\n    required: true\n  }),\n  rolesRequired: new RolesField('roles', label('roles'), {\n    required: true\n  }),\n  roles: new RolesField('roles', label('roles')),\n  createdAt: new DateTimeField('createdAt', label('createdAt')),\n  updatedAt: new DateTimeField('updatedAt', label('updatedAt')),\n  createdAtRange: new DateTimeRangeField('createdAtRange', label('createdAtRange')),\n  roleUser: new GenericField('roleUser', label('roleUser')),\n  status: new EnumeratorField('status', label('status'), [{\n    id: 'enabled',\n    label: i18n('user.enabled')\n  }, {\n    id: 'disabled',\n    label: i18n('user.disabled')\n  }])\n};\nexport var UserModel = /*#__PURE__*/function (_GenericModel) {\n  _inherits(UserModel, _GenericModel);\n\n  var _super3 = _createSuper(UserModel);\n\n  function UserModel() {\n    _classCallCheck(this, UserModel);\n\n    return _super3.apply(this, arguments);\n  }\n\n  _createClass(UserModel, null, [{\n    key: \"fields\",\n    get: function get() {\n      return fields;\n    }\n  }]);\n\n  return UserModel;\n}(GenericModel);",{"version":3,"sources":["E:/Projects/vue-library-master/1-Project/frontend/src/modules/auth/user-model.js"],"names":["StringArrayField","yup","Roles","i18n","IdField","StringField","BooleanField","ImagesField","DateTimeField","DateTimeRangeField","GenericField","EnumeratorField","GenericModel","RolesField","name","label","config","options","selectOptions","mixed","transform","values","map","value","labelOf","join","EmailsField","yupValidator","array","of","string","email","max","required","validator","rule","callback","validateSync","error","fields","id","firstName","authenticationUid","lastName","password","fullName","role","rememberMe","disabledAsStatus","noLabel","yesLabel","disabled","phoneNumber","matches","avatarsIam","avatarsProfile","emails","rolesRequired","roles","createdAt","updatedAt","createdAtRange","roleUser","status","UserModel"],"mappings":"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","sourcesContent":["import StringArrayField from '@/shared/fields/string-array-field';\nimport * as yup from 'yup';\nimport Roles from '@/security/roles';\nimport { i18n } from '@/i18n';\nimport IdField from '@/shared/fields/id-field';\nimport StringField from '@/shared/fields/string-field';\nimport BooleanField from '@/shared/fields/boolean-field';\nimport ImagesField from '@/shared/fields/images-field';\nimport DateTimeField from '@/shared/fields/date-time-field';\nimport DateTimeRangeField from '@/shared/fields/date-time-range-field';\nimport GenericField from '@/shared/fields/generic-field';\nimport EnumeratorField from '@/shared/fields/enumerator-field';\nimport { GenericModel } from '@/shared/model/generic-model';\n\nclass RolesField extends StringArrayField {\n  constructor(name, label, config) {\n    super(name, label, config);\n\n    this.options = Roles.selectOptions;\n  }\n\n  forExport() {\n    return yup\n      .mixed()\n      .label(this.label)\n      .transform((values) =>\n        values\n          ? values\n              .map((value) => Roles.labelOf(value))\n              .join(' ')\n          : null,\n      );\n  }\n}\n\nclass EmailsField extends StringArrayField {\n  forFormRules() {\n    let yupValidator = yup\n      .array()\n      .label(this.label)\n      .of(\n        yup\n          .string()\n          .email(i18n('user.validations.email'))\n          .label(i18n('user.fields.email'))\n          .max(255)\n          .required(),\n      );\n\n    if (this.required) {\n      yupValidator = yupValidator.required();\n    }\n\n    const validator = (rule, value, callback) => {\n      try {\n        yupValidator.validateSync(value);\n        callback();\n      } catch (error) {\n        callback(error);\n      }\n    };\n\n    return [{ validator }];\n  }\n}\n\nfunction label(name) {\n  return i18n(`user.fields.${name}`);\n}\n\nconst fields = {\n  id: new IdField('id', label('id')),\n  firstName: new StringField(\n    'firstName',\n    label('firstName'),\n    {\n      max: 80,\n    },\n  ),\n  authenticationUid: new StringField(\n    'authenticationUid',\n    label('authenticationUid'),\n  ),\n  lastName: new StringField('lastName', label('lastName'), {\n    max: 175,\n  }),\n  password: new StringField('password', label('password'), {\n    required: true,\n  }),\n  fullName: new StringField('fullName', label('fullName')),\n  email: new StringField('email', label('email'), {\n    required: true,\n    max: 255,\n  }),\n  role: new EnumeratorField(\n    'role',\n    label('role'),\n    Roles.selectOptions,\n  ),\n  rememberMe: new BooleanField(\n    'rememberMe',\n    label('rememberMe'),\n  ),\n  disabledAsStatus: new BooleanField(\n    'disabled',\n    label('status'),\n    {\n      noLabel: i18n('user.enabled'),\n      yesLabel: i18n('user.disabled'),\n    },\n  ),\n  disabled: new BooleanField(\n    'disabled',\n    label('disabled'),\n    {\n      noLabel: i18n('user.enabled'),\n      yesLabel: i18n('user.disabled'),\n    },\n  ),\n  phoneNumber: new StringField(\n    'phoneNumber',\n    label('phoneNumber'),\n    {\n      matches: /^[0-9]/,\n      max: 24,\n    },\n  ),\n  avatarsIam: new ImagesField(\n    'avatars',\n    label('avatars'),\n    'user/avatars/iam',\n    { max: 1 },\n  ),\n  avatarsProfile: new ImagesField(\n    'avatars',\n    label('avatars'),\n    (id) => `user/avatars/profile/${id}`,\n    { max: 1 },\n  ),\n  emails: new EmailsField('emails', label('emails'), {\n    required: true,\n  }),\n  rolesRequired: new RolesField('roles', label('roles'), {\n    required: true,\n  }),\n  roles: new RolesField('roles', label('roles')),\n  createdAt: new DateTimeField(\n    'createdAt',\n    label('createdAt'),\n  ),\n  updatedAt: new DateTimeField(\n    'updatedAt',\n    label('updatedAt'),\n  ),\n  createdAtRange: new DateTimeRangeField(\n    'createdAtRange',\n    label('createdAtRange'),\n  ),\n  roleUser: new GenericField('roleUser', label('roleUser')),\n  status: new EnumeratorField('status', label('status'), [\n    {\n      id: 'enabled',\n      label: i18n('user.enabled'),\n    },\n    {\n      id: 'disabled',\n      label: i18n('user.disabled'),\n    },\n  ]),\n};\n\nexport class UserModel extends GenericModel {\n  static get fields() {\n    return fields;\n  }\n}\n"]}]}