{"remainingRequest":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\babel-loader\\lib\\index.js!E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\Projects\\vue-library-master\\1-Project\\frontend\\src\\modules\\iam\\iam-form-store.js","dependencies":[{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\src\\modules\\iam\\iam-form-store.js","mtime":1641838497369},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\babel.config.js","mtime":1641838494433},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641838763341},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1641838769328},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1641838766164}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"E:\\\\Projects\\\\vue-library-master\\\\1-Project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport Errors from '@/shared/error/errors';\nimport { routerAsync } from '@/app-module';\nimport Message from '@/shared/message/message';\nimport { i18n } from '@/i18n';\nimport { IamService } from '@/modules/iam/iam-service';\nexport default {\n  namespaced: true,\n  state: {\n    findLoading: false,\n    saveLoading: false,\n    record: null\n  },\n  getters: {\n    record: function record(state) {\n      return state.record;\n    },\n    findLoading: function findLoading(state) {\n      return !!state.findLoading;\n    },\n    saveLoading: function saveLoading(state) {\n      return !!state.saveLoading;\n    }\n  },\n  mutations: {\n    RESET: function RESET(state) {\n      state.findLoading = false;\n      state.saveLoading = false;\n      state.record = null;\n    },\n    FIND_STARTED: function FIND_STARTED(state) {\n      state.record = null;\n      state.findLoading = true;\n    },\n    FIND_SUCCESS: function FIND_SUCCESS(state, payload) {\n      state.record = payload;\n      state.findLoading = false;\n    },\n    FIND_ERROR: function FIND_ERROR(state) {\n      state.record = null;\n      state.findLoading = false;\n    },\n    ADD_STARTED: function ADD_STARTED(state) {\n      state.saveLoading = true;\n    },\n    ADD_SUCCESS: function ADD_SUCCESS(state) {\n      state.saveLoading = false;\n    },\n    ADD_ERROR: function ADD_ERROR(state) {\n      state.saveLoading = false;\n    },\n    UPDATE_STARTED: function UPDATE_STARTED(state) {\n      state.saveLoading = true;\n    },\n    UPDATE_SUCCESS: function UPDATE_SUCCESS(state) {\n      state.saveLoading = false;\n    },\n    UPDATE_ERROR: function UPDATE_ERROR(state) {\n      state.saveLoading = false;\n    }\n  },\n  actions: {\n    doNew: function doNew(_ref) {\n      var commit = _ref.commit;\n      commit('RESET');\n    },\n    doFind: function () {\n      var _doFind = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref2, id) {\n        var commit, record;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                commit = _ref2.commit;\n                _context.prev = 1;\n                commit('FIND_STARTED');\n                _context.next = 5;\n                return IamService.find(id);\n\n              case 5:\n                record = _context.sent;\n                commit('FIND_SUCCESS', record);\n                _context.next = 14;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](1);\n                Errors.handle(_context.t0);\n                commit('FIND_ERROR');\n                routerAsync().push('/iam');\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[1, 9]]);\n      }));\n\n      function doFind(_x, _x2) {\n        return _doFind.apply(this, arguments);\n      }\n\n      return doFind;\n    }(),\n    doAdd: function () {\n      var _doAdd = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(_ref3, values) {\n        var commit;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                commit = _ref3.commit;\n                _context2.prev = 1;\n                commit('ADD_STARTED');\n                _context2.next = 5;\n                return IamService.create(values);\n\n              case 5:\n                commit('ADD_SUCCESS');\n                Message.success(i18n('iam.doAddSuccess'));\n                routerAsync().push('/iam');\n                _context2.next = 14;\n                break;\n\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2[\"catch\"](1);\n                Errors.handle(_context2.t0);\n                commit('ADD_ERROR');\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[1, 10]]);\n      }));\n\n      function doAdd(_x3, _x4) {\n        return _doAdd.apply(this, arguments);\n      }\n\n      return doAdd;\n    }(),\n    doUpdate: function () {\n      var _doUpdate = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(_ref4, values) {\n        var commit, rootGetters, dispatch, currentUser;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                commit = _ref4.commit, rootGetters = _ref4.rootGetters, dispatch = _ref4.dispatch;\n                _context3.prev = 1;\n                commit('UPDATE_STARTED');\n                _context3.next = 5;\n                return IamService.edit(values);\n\n              case 5:\n                commit('UPDATE_SUCCESS');\n                currentUser = rootGetters['auth/currentUser'];\n\n                if (currentUser.id === values.id) {\n                  dispatch('auth/doRefreshCurrentUser');\n                }\n\n                Message.success(i18n('iam.doUpdateSuccess'));\n                routerAsync().push('/iam');\n                _context3.next = 16;\n                break;\n\n              case 12:\n                _context3.prev = 12;\n                _context3.t0 = _context3[\"catch\"](1);\n                Errors.handle(_context3.t0);\n                commit('UPDATE_ERROR');\n\n              case 16:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, null, [[1, 12]]);\n      }));\n\n      function doUpdate(_x5, _x6) {\n        return _doUpdate.apply(this, arguments);\n      }\n\n      return doUpdate;\n    }()\n  }\n};",{"version":3,"sources":["E:/Projects/vue-library-master/1-Project/frontend/src/modules/iam/iam-form-store.js"],"names":["Errors","routerAsync","Message","i18n","IamService","namespaced","state","findLoading","saveLoading","record","getters","mutations","RESET","FIND_STARTED","FIND_SUCCESS","payload","FIND_ERROR","ADD_STARTED","ADD_SUCCESS","ADD_ERROR","UPDATE_STARTED","UPDATE_SUCCESS","UPDATE_ERROR","actions","doNew","commit","doFind","id","find","handle","push","doAdd","values","create","success","doUpdate","rootGetters","dispatch","edit","currentUser"],"mappings":"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","sourcesContent":["import Errors from '@/shared/error/errors';\nimport { routerAsync } from '@/app-module';\nimport Message from '@/shared/message/message';\nimport { i18n } from '@/i18n';\nimport { IamService } from '@/modules/iam/iam-service';\n\nexport default {\n  namespaced: true,\n\n  state: {\n    findLoading: false,\n    saveLoading: false,\n    record: null,\n  },\n\n  getters: {\n    record: (state) => state.record,\n    findLoading: (state) => !!state.findLoading,\n    saveLoading: (state) => !!state.saveLoading,\n  },\n\n  mutations: {\n    RESET(state) {\n      state.findLoading = false;\n      state.saveLoading = false;\n      state.record = null;\n    },\n\n    FIND_STARTED(state) {\n      state.record = null;\n      state.findLoading = true;\n    },\n\n    FIND_SUCCESS(state, payload) {\n      state.record = payload;\n      state.findLoading = false;\n    },\n\n    FIND_ERROR(state) {\n      state.record = null;\n      state.findLoading = false;\n    },\n\n    ADD_STARTED(state) {\n      state.saveLoading = true;\n    },\n\n    ADD_SUCCESS(state) {\n      state.saveLoading = false;\n    },\n\n    ADD_ERROR(state) {\n      state.saveLoading = false;\n    },\n\n    UPDATE_STARTED(state) {\n      state.saveLoading = true;\n    },\n\n    UPDATE_SUCCESS(state) {\n      state.saveLoading = false;\n    },\n\n    UPDATE_ERROR(state) {\n      state.saveLoading = false;\n    },\n  },\n\n  actions: {\n    doNew({ commit }) {\n      commit('RESET');\n    },\n\n    async doFind({ commit }, id) {\n      try {\n        commit('FIND_STARTED');\n        const record = await IamService.find(id);\n        commit('FIND_SUCCESS', record);\n      } catch (error) {\n        Errors.handle(error);\n        commit('FIND_ERROR');\n        routerAsync().push('/iam');\n      }\n    },\n\n    async doAdd({ commit }, values) {\n      try {\n        commit('ADD_STARTED');\n        await IamService.create(values);\n        commit('ADD_SUCCESS');\n        Message.success(i18n('iam.doAddSuccess'));\n        routerAsync().push('/iam');\n      } catch (error) {\n        Errors.handle(error);\n        commit('ADD_ERROR');\n      }\n    },\n\n    async doUpdate(\n      { commit, rootGetters, dispatch },\n      values,\n    ) {\n      try {\n        commit('UPDATE_STARTED');\n        await IamService.edit(values);\n        commit('UPDATE_SUCCESS');\n\n        const currentUser = rootGetters['auth/currentUser'];\n\n        if (currentUser.id === values.id) {\n          dispatch('auth/doRefreshCurrentUser');\n        }\n\n        Message.success(i18n('iam.doUpdateSuccess'));\n\n        routerAsync().push('/iam');\n      } catch (error) {\n        Errors.handle(error);\n        commit('UPDATE_ERROR');\n      }\n    },\n  },\n};\n"]}]}