{"remainingRequest":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\babel-loader\\lib\\index.js!E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\Projects\\vue-library-master\\1-Project\\frontend\\src\\shared\\error\\errors.js","dependencies":[{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\src\\shared\\error\\errors.js","mtime":1641838498766},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\babel.config.js","mtime":1641838494433},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641838763341},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1641838769328},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\eslint-loader\\index.js","mtime":1641838766164}],"contextDependencies":[],"result":["import _classCallCheck from \"E:\\\\Projects\\\\vue-library-master\\\\1-Project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"E:\\\\Projects\\\\vue-library-master\\\\1-Project\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { i18n } from '@/i18n';\nimport { routerAsync } from '@/app-module';\nimport Message from '@/shared/message/message';\nvar DEFAULT_ERROR_MESSAGE = i18n('errors.defaultErrorMessage');\n\nfunction selectErrorMessage(error) {\n  if (error && error.response && error.response.data) {\n    return error.response.data;\n  }\n\n  return error.message || DEFAULT_ERROR_MESSAGE;\n}\n\nfunction selectErrorCode(error) {\n  if (error && error.response && error.response.status) {\n    return error.response.status;\n  }\n\n  return 500;\n}\n\nvar Errors = /*#__PURE__*/function () {\n  function Errors() {\n    _classCallCheck(this, Errors);\n  }\n\n  _createClass(Errors, null, [{\n    key: \"handle\",\n    value: function handle(error) {\n      if (process.env.NODE_ENV !== 'test') {\n        console.error(selectErrorMessage(error));\n        console.error(error);\n      }\n\n      if (selectErrorCode(error) === 403) {\n        routerAsync().push('/403');\n        return;\n      }\n\n      if (selectErrorCode(error) === 400) {\n        Message.error(selectErrorMessage(error));\n        return;\n      }\n\n      routerAsync().push('/500');\n    }\n  }, {\n    key: \"errorCode\",\n    value: function errorCode(error) {\n      return selectErrorCode(error);\n    }\n  }, {\n    key: \"selectMessage\",\n    value: function selectMessage(error) {\n      return selectErrorMessage(error);\n    }\n  }, {\n    key: \"showMessage\",\n    value: function showMessage(error) {\n      Message.error(selectErrorMessage(error));\n    }\n  }]);\n\n  return Errors;\n}();\n\nexport { Errors as default };",{"version":3,"sources":["E:/Projects/vue-library-master/1-Project/frontend/src/shared/error/errors.js"],"names":["i18n","routerAsync","Message","DEFAULT_ERROR_MESSAGE","selectErrorMessage","error","response","data","message","selectErrorCode","status","Errors","process","env","NODE_ENV","console","push"],"mappings":";;AAAA,SAASA,IAAT,QAAqB,QAArB;AACA,SAASC,WAAT,QAA4B,cAA5B;AACA,OAAOC,OAAP,MAAoB,0BAApB;AAEA,IAAMC,qBAAqB,GAAGH,IAAI,CAChC,4BADgC,CAAlC;;AAIA,SAASI,kBAAT,CAA4BC,KAA5B,EAAmC;AACjC,MAAIA,KAAK,IAAIA,KAAK,CAACC,QAAf,IAA2BD,KAAK,CAACC,QAAN,CAAeC,IAA9C,EAAoD;AAClD,WAAOF,KAAK,CAACC,QAAN,CAAeC,IAAtB;AACD;;AAED,SAAOF,KAAK,CAACG,OAAN,IAAiBL,qBAAxB;AACD;;AAED,SAASM,eAAT,CAAyBJ,KAAzB,EAAgC;AAC9B,MAAIA,KAAK,IAAIA,KAAK,CAACC,QAAf,IAA2BD,KAAK,CAACC,QAAN,CAAeI,MAA9C,EAAsD;AACpD,WAAOL,KAAK,CAACC,QAAN,CAAeI,MAAtB;AACD;;AAED,SAAO,GAAP;AACD;;IAEoBC,M;;;;;;;WACnB,gBAAcN,KAAd,EAAqB;AACnB,UAAIO,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA7B,EAAqC;AACnCC,QAAAA,OAAO,CAACV,KAAR,CAAcD,kBAAkB,CAACC,KAAD,CAAhC;AACAU,QAAAA,OAAO,CAACV,KAAR,CAAcA,KAAd;AACD;;AAED,UAAII,eAAe,CAACJ,KAAD,CAAf,KAA2B,GAA/B,EAAoC;AAClCJ,QAAAA,WAAW,GAAGe,IAAd,CAAmB,MAAnB;AACA;AACD;;AAED,UAAIP,eAAe,CAACJ,KAAD,CAAf,KAA2B,GAA/B,EAAoC;AAClCH,QAAAA,OAAO,CAACG,KAAR,CAAcD,kBAAkB,CAACC,KAAD,CAAhC;AACA;AACD;;AAEDJ,MAAAA,WAAW,GAAGe,IAAd,CAAmB,MAAnB;AACD;;;WAED,mBAAiBX,KAAjB,EAAwB;AACtB,aAAOI,eAAe,CAACJ,KAAD,CAAtB;AACD;;;WAED,uBAAqBA,KAArB,EAA4B;AAC1B,aAAOD,kBAAkB,CAACC,KAAD,CAAzB;AACD;;;WAED,qBAAmBA,KAAnB,EAA0B;AACxBH,MAAAA,OAAO,CAACG,KAAR,CAAcD,kBAAkB,CAACC,KAAD,CAAhC;AACD;;;;;;SA9BkBM,M","sourcesContent":["import { i18n } from '@/i18n';\nimport { routerAsync } from '@/app-module';\nimport Message from '@/shared/message/message';\n\nconst DEFAULT_ERROR_MESSAGE = i18n(\n  'errors.defaultErrorMessage',\n);\n\nfunction selectErrorMessage(error) {\n  if (error && error.response && error.response.data) {\n    return error.response.data;\n  }\n\n  return error.message || DEFAULT_ERROR_MESSAGE;\n}\n\nfunction selectErrorCode(error) {\n  if (error && error.response && error.response.status) {\n    return error.response.status;\n  }\n\n  return 500;\n}\n\nexport default class Errors {\n  static handle(error) {\n    if (process.env.NODE_ENV !== 'test') {\n      console.error(selectErrorMessage(error));\n      console.error(error);\n    }\n\n    if (selectErrorCode(error) === 403) {\n      routerAsync().push('/403');\n      return;\n    }\n\n    if (selectErrorCode(error) === 400) {\n      Message.error(selectErrorMessage(error));\n      return;\n    }\n\n    routerAsync().push('/500');\n  }\n\n  static errorCode(error) {\n    return selectErrorCode(error);\n  }\n\n  static selectMessage(error) {\n    return selectErrorMessage(error);\n  }\n\n  static showMessage(error) {\n    Message.error(selectErrorMessage(error));\n  }\n}\n"]}]}