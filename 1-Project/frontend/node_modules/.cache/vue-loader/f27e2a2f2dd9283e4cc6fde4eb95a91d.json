{"remainingRequest":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Projects\\vue-library-master\\1-Project\\frontend\\src\\modules\\iam\\components\\iam-list-table.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\src\\modules\\iam\\components\\iam-list-table.vue","mtime":1641838497679},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641838763341},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1641838769328},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1641838763341},{"path":"E:\\Projects\\vue-library-master\\1-Project\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1641838768457}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { UserModel } from '@/modules/auth/user-model';\nimport { mapGetters, mapActions } from 'vuex';\nimport { IamPermissions } from '@/modules/iam/iam-permissions';\nimport Roles from '@/security/roles';\n\nconst { fields } = UserModel;\n\nexport default {\n  name: 'app-iam-list-table',\n\n  mounted() {\n    this.doMountTable(this.$refs.table);\n  },\n\n  computed: {\n    ...mapGetters({\n      rows: 'iam/list/rows',\n      count: 'iam/list/count',\n      loading: 'iam/list/loading',\n      pagination: 'iam/list/pagination',\n      isMobile: 'layout/isMobile',\n      currentUser: 'auth/currentUser',\n      paginationLayout: 'layout/paginationLayout',\n    }),\n\n    hasPermissionToEdit() {\n      return new IamPermissions(this.currentUser).edit;\n    },\n\n    fields() {\n      return fields;\n    },\n  },\n\n  methods: {\n    ...mapActions({\n      doChangeSort: 'iam/list/doChangeSort',\n      doChangePaginationCurrentPage:\n        'iam/list/doChangePaginationCurrentPage',\n      doChangePaginationPageSize:\n        'iam/list/doChangePaginationPageSize',\n      doMountTable: 'iam/list/doMountTable',\n    }),\n\n    roleDescriptionOf(roleId) {\n      return Roles.descriptionOf(roleId);\n    },\n\n    roleLabelOf(roleId) {\n      return Roles.labelOf(roleId);\n    },\n\n    presenter(row, fieldName) {\n      return UserModel.presenter(row, fieldName);\n    },\n  },\n};\n",{"version":3,"sources":["iam-list-table.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"iam-list-table.vue","sourceRoot":"src/modules/iam/components","sourcesContent":["<template>\n  <div>\n    <el-table\n      :border=\"true\"\n      :data=\"rows\"\n      @sort-change=\"doChangeSort\"\n      ref=\"table\"\n      row-key=\"id\"\n      v-loading=\"loading\"\n    >\n      <el-table-column type=\"selection\" width=\"55\"></el-table-column>\n\n      <el-table-column\n        :label=\"fields.avatarsIam.label\"\n        :prop=\"fields.avatarsIam.name\"\n        align=\"center\"\n        width=\"70px\"\n      >\n        <template slot-scope=\"scope\">\n          <app-list-item-image :value=\"presenter(scope.row, 'avatarsIam')\"></app-list-item-image>\n        </template>\n      </el-table-column>\n\n      <el-table-column :label=\"fields.email.label\" :prop=\"fields.email.name\" sortable=\"custom\">\n        <template slot-scope=\"scope\">{{ presenter(scope.row, 'email') }}</template>\n      </el-table-column>\n\n      <el-table-column\n        :label=\"fields.fullName.label\"\n        :prop=\"fields.fullName.name\"\n        sortable=\"custom\"\n      >\n        <template slot-scope=\"scope\">{{ presenter(scope.row, 'fullName') }}</template>\n      </el-table-column>\n\n      <el-table-column :label=\"fields.roles.label\" :prop=\"fields.roles.name\">\n        <template slot-scope=\"scope\">\n          <div :key=\"roleId\" v-for=\"roleId in scope.row.roles\">\n            <el-tooltip :content=\"roleDescriptionOf(roleId)\">\n              <span>{{ roleLabelOf(roleId) }}</span>\n            </el-tooltip>\n          </div>\n        </template>\n      </el-table-column>\n\n      <el-table-column\n        :label=\"fields.disabledAsStatus.label\"\n        :prop=\"fields.disabledAsStatus.name\"\n        sortable=\"custom\"\n      >\n        <template slot-scope=\"scope\">\n          <el-tag\n            :type=\"scope.row[fields.disabledAsStatus.name] ? 'danger' : 'success'\"\n          >{{ presenter(scope.row, 'disabledAsStatus') }}</el-tag>\n        </template>\n      </el-table-column>\n\n      <el-table-column\n        :label=\"fields.createdAt.label\"\n        :prop=\"fields.createdAt.name\"\n        sortable=\"custom\"\n      >\n        <template slot-scope=\"scope\">{{ presenter(scope.row, 'createdAt') }}</template>\n      </el-table-column>\n\n      <el-table-column :fixed=\"isMobile? undefined : 'right'\" align=\"center\" width=\"120\">\n        <template slot-scope=\"scope\">\n          <div class=\"table-actions\">\n            <router-link :to=\"`/iam/${scope.row.id}`\">\n              <el-button type=\"text\">\n                <app-i18n code=\"common.view\"></app-i18n>\n              </el-button>\n            </router-link>\n\n            <router-link :to=\"`/iam/${scope.row.id}/edit`\" v-if=\"hasPermissionToEdit\">\n              <el-button type=\"text\">\n                <app-i18n code=\"common.edit\"></app-i18n>\n              </el-button>\n            </router-link>\n          </div>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <div class=\"el-pagination-wrapper\">\n      <el-pagination\n        :current-page=\"pagination.currentPage || 1\"\n        :disabled=\"loading\"\n        :layout=\"paginationLayout\"\n        :total=\"count\"\n        @current-change=\"doChangePaginationCurrentPage\"\n        @size-change=\"doChangePaginationPageSize\"\n      ></el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { UserModel } from '@/modules/auth/user-model';\nimport { mapGetters, mapActions } from 'vuex';\nimport { IamPermissions } from '@/modules/iam/iam-permissions';\nimport Roles from '@/security/roles';\n\nconst { fields } = UserModel;\n\nexport default {\n  name: 'app-iam-list-table',\n\n  mounted() {\n    this.doMountTable(this.$refs.table);\n  },\n\n  computed: {\n    ...mapGetters({\n      rows: 'iam/list/rows',\n      count: 'iam/list/count',\n      loading: 'iam/list/loading',\n      pagination: 'iam/list/pagination',\n      isMobile: 'layout/isMobile',\n      currentUser: 'auth/currentUser',\n      paginationLayout: 'layout/paginationLayout',\n    }),\n\n    hasPermissionToEdit() {\n      return new IamPermissions(this.currentUser).edit;\n    },\n\n    fields() {\n      return fields;\n    },\n  },\n\n  methods: {\n    ...mapActions({\n      doChangeSort: 'iam/list/doChangeSort',\n      doChangePaginationCurrentPage:\n        'iam/list/doChangePaginationCurrentPage',\n      doChangePaginationPageSize:\n        'iam/list/doChangePaginationPageSize',\n      doMountTable: 'iam/list/doMountTable',\n    }),\n\n    roleDescriptionOf(roleId) {\n      return Roles.descriptionOf(roleId);\n    },\n\n    roleLabelOf(roleId) {\n      return Roles.labelOf(roleId);\n    },\n\n    presenter(row, fieldName) {\n      return UserModel.presenter(row, fieldName);\n    },\n  },\n};\n</script>\n\n<style>\n</style>\n"]}]}